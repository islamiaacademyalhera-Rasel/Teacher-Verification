<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<title>Teacher Verification Slip</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
<style>
body{ font-family: Arial, sans-serif; background:#f5f6fa; padding:20px; margin:0;}
.container{ max-width:650px; margin:auto; background:#fff; padding:20px; border-radius:10px; box-shadow:0 4px 15px rgba(0,0,0,.1); }
header{ text-align:center; margin-bottom:15px; }
header h1{ margin:5px 0; font-size:20px; color:#0b5ed7; }
header p{ margin:2px 0; font-size:14px; color:#555; }
header a{ color:#0b5ed7; text-decoration:none; }
input,button{ width:100%; padding:10px; margin-top:10px; font-size:16px; border-radius:5px; border:1px solid #ccc; box-sizing:border-box; }
button{ background:#0b5ed7; color:#fff; border:none; cursor:pointer; transition:0.3s; }
button:hover{ background:#084298; }
.result{ margin-top:20px; padding:15px; border-radius:8px; background:#f1f1f1; min-height:200px; word-wrap: break-word; }
.verified-title{ font-family: monospace; font-size:22px; font-weight:bold; color:#28a745; overflow:hidden; white-space:nowrap; border-right: .15em solid #28a745; text-align:center; display:block; }
table{ width:100%; border-collapse: collapse; margin-top:15px; }
table th, table td{ border:1px solid #ddd; padding:10px; text-align:left; font-size:14px;}
table th{ background:#0b5ed7; color:#fff; }
.active{color:green;font-weight:bold;}
.inactive{color:red;font-weight:bold;}
.action-btns{ margin-top:15px; display:flex; gap:10px; flex-wrap:wrap;}
.action-btns button{ flex:1; font-size:15px; }
.timestamp{ margin-top:10px; font-size:13px; color:#555; font-style:italic; text-align:center; }
footer{ text-align:center; margin-top:20px; font-size:13px; color:#555; }
footer a{ color:#0b5ed7; text-decoration:none; }

/* PRINT STYLES */
@media print {
  body * { visibility: hidden; }
  #printArea, #printArea * { visibility: visible; }
  #printArea { position: absolute; top:0; left:0; width:100%; }
}

/* Responsive adjustments */
@media(max-width:480px){
  .container{ padding:15px; }
  table th, table td{ font-size:12px; padding:8px; }
  input, button{ font-size:14px; padding:8px; }
  .verified-title{ font-size:18px; }
}
</style>
</head>
<body>

<div class="container">
  <header>
    <h1>‡¶Ü‡¶≤ ‡¶π‡ßá‡¶∞‡¶æ ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡ßÄ ‡¶è‡¶ï‡¶æ‡¶°‡ßá‡¶Æ‡ßÄ ‡¶ì ‡¶Æ‡¶æ‡¶¶‡ßç‡¶∞‡¶æ‡¶∏‡¶æ</h1>
    <p>‡¶∏‡ßÄ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶® ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡¶®, ‡¶¨‡ßá‡¶™‡¶ú‡¶æ ‡¶∏‡ßç‡¶ï‡ßÅ‡¶≤ ‡¶ó‡ßá‡¶ü‡ßá‡¶∞ ‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶™‡¶æ‡¶∂‡ßá, ‡¶∞‡ßá‡¶≤‡¶¨‡¶ø‡¶ü ‡¶∏‡¶Ç‡¶≤‡¶ó‡ßç‡¶®, ‡¶¨‡¶®‡ßç‡¶¶‡¶∞‡¶ü‡¶ø‡¶≤‡¶æ, ‡¶ö‡¶ü‡ßç‡¶ü‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ</p>
    <p>‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤: <a href="tel:+8801643880075">01643880075</a></p>
  </header>

  <h3 style="text-align:center;">Teacher Verification Slip</h3>
  <input type="text" id="teacherId" placeholder="Teacher ID ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®">
  <button onclick="verifyTeacher()">Verify</button>
  <div id="output" class="result">üîπ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá Teacher ID ‡¶≤‡¶ø‡¶ñ‡ßá Verify ‡¶ï‡¶∞‡ßÅ‡¶®</div>
</div>

<div id="printArea" style="display:none;"></div> <!-- Printable area -->

<footer>
  This page is Developed by <a href="https://www.facebook.com/Sahidujjamanr" target="_blank">Sahidujjaman Rasel</a>
</footer>

<script>
const { jsPDF } = window.jspdf;

// ===== TEACHERS DATA =====
const teachers = [
  {id:"AHT2405", name:"‡¶∂‡¶π‡¶ø‡¶¶‡ßÅ‡¶ú‡ßç‡¶ú‡¶æ‡¶Æ‡¶æ‡¶® ‡¶∞‡¶æ‡¶∏‡ßá‡¶≤", joinDate:"2024-11-02", designation:"‡¶∏‡¶π‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï ‡¶ì ‡¶ï‡¶Æ‡ßç‡¶™‡¶ø‡¶â‡¶ü‡¶æ‡¶∞ ‡¶ü‡ßç‡¶∞‡ßá‡¶á‡¶®‡¶æ‡¶∞", mobile:"01788112405", active:true},
  {id:"T002", name:"‡¶´‡¶æ‡¶§‡ßá‡¶Æ‡¶æ ‡¶Ü‡¶ï‡ßç‡¶§‡¶æ‡¶∞", joinDate:"2020-07-20", designation:"‡¶™‡ßç‡¶∞‡¶≠‡¶æ‡¶∑‡¶ï", mobile:"01887654321", active:true},
  {id:"T003", name:"‡¶∏‡¶æ‡¶≤‡¶æ‡¶π ‡¶â‡¶¶‡ßç‡¶¶‡¶ø‡¶®", joinDate:"2018-01-10", designation:"‡¶∏‡¶ø‡¶®‡¶ø‡¶Ø‡¶º‡¶∞ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï", mobile:"01911223344", active:false}
];

// ===== SERVICE AGE =====
function serviceAge(joinDate){
  const start=new Date(joinDate);
  const today=new Date();
  let y = today.getFullYear() - start.getFullYear();
  let m = today.getMonth() - start.getMonth();
  let d = today.getDate() - start.getDate();
  if(d<0){ m--; d+=30; }
  if(m<0){ y--; m+=12; }
  return `${y} ‡¶¨‡¶õ‡¶∞ ${m} ‡¶Æ‡¶æ‡¶∏ ${d} ‡¶¶‡¶ø‡¶®`;
}

// ===== TYPEWRITER =====
function typeWriter(text, element, callback){
  element.textContent = "";
  let i=0;
  const interval = setInterval(()=>{
    element.textContent += text.charAt(i);
    i++;
    if(i>=text.length){ clearInterval(interval); if(callback) callback(); }
  },40);
}

// ===== VERIFY FUNCTION =====
let currentTeacher = null;
let currentTimestamp = "";
function verifyTeacher(){
  const id = document.getElementById("teacherId").value.trim();
  const output = document.getElementById("output");
  if(!id){ output.innerHTML="‚ö†Ô∏è Teacher ID ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®"; return; }

  const t = teachers.find(x=>x.id===id);
  if(!t){ output.innerHTML="‚ùå ‡¶è‡¶á ID ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø"; return; }
  currentTeacher = t;

  const now = new Date();
  currentTimestamp = now.toLocaleString('bn-BD', {hour12:false});

  output.innerHTML = `<div class="verified-title" id="verifiedText"></div>`;
  typeWriter("‚úÖ VERIFIED TEACHER", document.getElementById("verifiedText"), ()=> {
    output.innerHTML += `
      <table>
        <tr><th>‡¶´‡¶ø‡¶≤‡ßç‡¶°</th><th>‡¶Æ‡¶æ‡¶®</th></tr>
        <tr><td>ID</td><td>${t.id}</td></tr>
        <tr><td>‡¶®‡¶æ‡¶Æ</td><td>${t.name}</td></tr>
        <tr><td>‡¶™‡¶¶‡¶¨‡ßÄ</td><td>${t.designation}</td></tr>
        <tr><td>‡¶Ø‡ßã‡¶ó‡¶¶‡¶æ‡¶®‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ</td><td>${t.joinDate}</td></tr>
        <tr><td>‡¶ö‡¶æ‡¶ï‡¶∞‡¶ø‡¶∞ ‡¶¨‡¶Ø‡¶º‡¶∏</td><td>${serviceAge(t.joinDate)}</td></tr>
        <tr><td>‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤</td><td><a href="tel:${t.mobile}">${t.mobile}</a></td></tr>
        <tr><td>‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ</td><td class="${t.active?'active':'inactive'}">${t.active?'‡¶ï‡¶∞‡ßç‡¶Æ‡¶∞‡¶§':'‡¶ï‡¶∞‡ßç‡¶Æ‡¶∞‡¶§ ‡¶®‡¶Ø‡¶º'}</td></tr>
      </table>
      <div class="timestamp">‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶®‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶ì ‡¶∏‡¶Æ‡ßü: ${currentTimestamp}</div>
      <div class="action-btns">
        <button onclick="printSlip()">üñ®Ô∏è Print</button>
        <button onclick="downloadPDF()">üì• Download PDF</button>
      </div>
    `;
  });
}

// ===== PRINT FUNCTION =====
function printSlip(){
  if(!currentTeacher) return;
  const printArea = document.getElementById("printArea");
  // ‡¶π‡ßá‡¶°‡¶æ‡¶∞‡¶∏‡¶π ‡¶™‡ßÅ‡¶∞‡ßã ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤ ‡¶™‡ßç‡¶∞‡¶ø‡¶®‡ßç‡¶ü ‡¶π‡¶¨‡ßá
  printArea.innerHTML = `
    <header style="text-align:center;">
      <h1>‡¶Ü‡¶≤ ‡¶π‡ßá‡¶∞‡¶æ ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡ßÄ ‡¶è‡¶ï‡¶æ‡¶°‡ßá‡¶Æ‡ßÄ ‡¶ì ‡¶Æ‡¶æ‡¶¶‡ßç‡¶∞‡¶æ‡¶∏‡¶æ</h1>
      <p>‡¶∏‡ßÄ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶® ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡¶®, ‡¶¨‡ßá‡¶™‡¶ú‡¶æ ‡¶∏‡ßç‡¶ï‡ßÅ‡¶≤ ‡¶ó‡ßá‡¶ü‡ßá‡¶∞ ‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶™‡¶æ‡¶∂‡ßá, ‡¶∞‡ßá‡¶≤‡¶¨‡¶ø‡¶ü ‡¶∏‡¶Ç‡¶≤‡¶ó‡ßç‡¶®, ‡¶¨‡¶®‡ßç‡¶¶‡¶∞‡¶ü‡¶ø‡¶≤‡¶æ, ‡¶ö‡¶ü‡ßç‡¶ü‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ</p>
      <p>‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤: <a href="tel:+8801643880075">01643880075</a></p>
    </header>
    <h3 style="text-align:center;">Teacher Verification Slip</h3>
    ${document.getElementById("output").innerHTML}
    <footer style="text-align:center; margin-top:20px; font-size:13px; color:#555;">
      This page is Developed by <a href="https://www.facebook.com/Sahidujjamanr" target="_blank">Sahidujjaman Rasel</a>
    </footer>
  `;
  printArea.style.display = 'block';
  window.print();
  printArea.style.display = 'none';
}

// ===== PDF FUNCTION =====
function downloadPDF(){
  if(!currentTeacher) return;
  const doc = new jsPDF();
  doc.setFont("helvetica");
  let y=20;
  doc.setFontSize(16);
  doc.text("‡¶Ü‡¶≤ ‡¶π‡ßá‡¶∞‡¶æ ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡ßÄ ‡¶è‡¶ï‡¶æ‡¶°‡ßá‡¶Æ‡ßÄ ‡¶ì ‡¶Æ‡¶æ‡¶¶‡ßç‡¶∞‡¶æ‡¶∏‡¶æ",105,y,{align:"center"}); y+=10;
  doc.text("‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï ‡¶Ü‡¶á‡¶°‡¶ø ‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á‡¶ï‡¶∞‡¶£",105,y,{align:"center"}); y+=12;
  doc.setFontSize(12);
  doc.text(`ID: ${currentTeacher.id}`,20,y); y+=8;
  doc.text(`‡¶®‡¶æ‡¶Æ: ${currentTeacher.name}`,20,y); y+=8;
  doc.text(`‡¶™‡¶¶‡¶¨‡ßÄ: ${currentTeacher.designation}`,20,y); y+=8;
  doc.text(`‡¶Ø‡ßã‡¶ó‡¶¶‡¶æ‡¶®‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ: ${currentTeacher.joinDate}`,20,y); y+=8;
  doc.text(`‡¶ö‡¶æ‡¶ï‡¶∞‡¶ø‡¶∞ ‡¶¨‡¶Ø‡¶º‡¶∏: ${serviceAge(currentTeacher.joinDate)}`,20,y); y+=8;
  doc.text(`‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤: ${currentTeacher.mobile}`,20,y); y+=8;
  doc.text(`‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ: ${currentTeacher.active?'‡¶ï‡¶∞‡ßç‡¶Æ‡¶∞‡¶§':'‡¶ï‡¶∞‡ßç‡¶Æ‡¶∞‡¶§ ‡¶®‡¶Ø‡¶º'}`,20,y); y+=8;
  doc.text(`‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶®‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶ì ‡¶∏‡¶Æ‡ßü: ${currentTimestamp}`,20,y); y+=15;
  doc.save(`Teacher_Verification_${currentTeacher.id}.pdf`);
}
</script>
</body>
</html>